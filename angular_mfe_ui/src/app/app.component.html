<div class="container">
  <!-- Header -->
  <header class="header">
    <h1>ğŸ¯ Angular MFE UI</h1>
    <p class="subtitle">Vista Pura - Sin LÃ³gica de Negocio</p>
  </header>

  <!-- Status Badge -->
  <div class="status-badge" [class.active]="isRunningInFlutter">
    <span class="badge-icon">{{ isRunningInFlutter ? 'ğŸŸ¢' : 'ğŸ”´' }}</span>
    <span class="badge-text">
      {{ isRunningInFlutter ? 'Conectado a Flutter' : 'Modo Standalone' }}
    </span>
  </div>

  <!-- Main Content -->
  <main class="content">
    <!-- User Info Card -->
    <section class="card">
      <div class="card-header">
        <h2>ğŸ‘¤ InformaciÃ³n de Usuario</h2>
      </div>
      <div class="card-body">
        <div class="user-display">
          <span class="label">Nombre Actual:</span>
          <span class="value">{{ userName }}</span>
        </div>
      </div>
    </section>

    <!-- Update Name Card -->
    <section class="card">
      <div class="card-header">
        <h2>âœï¸ Actualizar Nombre</h2>
      </div>
      <div class="card-body">
        <p class="description">
          Este botÃ³n envÃ­a un mensaje a Flutter para actualizar el nombre en el BLoC.
        </p>
        <div class="input-group">
          <input
            type="text"
            [(ngModel)]="newNameInput"
            placeholder="Ingresa nuevo nombre..."
            class="text-input"
            (keyup.enter)="onUpdateNameClick()"
          />
          <button
            class="btn btn-primary"
            (click)="onUpdateNameClick()"
            [disabled]="!isRunningInFlutter"
          >
            Actualizar Nombre
          </button>
        </div>
        <p class="hint" *ngIf="!isRunningInFlutter">
          âš ï¸ Esta funciÃ³n solo estÃ¡ disponible dentro de Flutter
        </p>
      </div>
    </section>

    <!-- Architecture Info Card -->
    <section class="card info-card">
      <div class="card-header">
        <h2>ğŸ“‹ Arquitectura</h2>
      </div>
      <div class="card-body">
        <ul class="info-list">
          <li>âœ… Este MFE solo contiene UI (vista tonta)</li>
          <li>âœ… NO tiene lÃ³gica de negocio</li>
          <li>âœ… NO maneja estado (sin NgRx)</li>
          <li>âœ… NO hace llamadas HTTP</li>
          <li>âœ… Toda la lÃ³gica estÃ¡ en Flutter Shell</li>
          <li>âœ… ComunicaciÃ³n bidireccional vÃ­a puente JavaScript</li>
        </ul>
      </div>
    </section>

    <!-- Communication Flow Card -->
    <section class="card">
      <div class="card-header">
        <h2>ğŸ”„ Flujos Implementados</h2>
      </div>
      <div class="card-body">
        <div class="flow-item">
          <h3>1ï¸âƒ£ Flujo de InicializaciÃ³n (Flutter â†’ Web)</h3>
          <p>Flutter envÃ­a el nombre inicial al cargar la app</p>
        </div>
        <div class="flow-item">
          <h3>2ï¸âƒ£ Flujo de ActualizaciÃ³n (Web â†” Flutter â†” Web)</h3>
          <p>Angular solicita cambio â†’ Flutter actualiza BLoC â†’ Angular recibe actualizaciÃ³n</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <p>ğŸš€ PoC: Shell Orquestador de MFE en WebView</p>
    <p class="tech-stack">Angular 17 + Flutter + flutter_inappwebview</p>
  </footer>
</div>
